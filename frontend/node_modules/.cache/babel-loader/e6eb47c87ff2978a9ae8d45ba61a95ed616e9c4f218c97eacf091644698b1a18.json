{"ast":null,"code":"import _slicedToArray from\"/app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";// MyProjectsList.js\nimport React,{useState}from'react';import{useSelector,useDispatch}from'react-redux';import{deleteItem}from'../dashboardThunks';import{Modal,Button,ListGroup}from'react-bootstrap';import EditMyProjectsForm from'./EditMyProjectsForm';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var MyProjectsList=function MyProjectsList(){var dispatch=useDispatch();var projects=useSelector(function(state){return state.dashboard.resume.projects;});var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showModal=_useState2[0],setShowModal=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),selectedProject=_useState4[0],setSelectedProject=_useState4[1];var handleDelete=function handleDelete(projectId){if(projectId&&window.confirm('Are you sure you want to delete this project?')){dispatch(deleteItem({section:'projects',itemId:projectId}));}else{console.error('Error: projectId is undefined');}};var handleEdit=function handleEdit(project){setSelectedProject(project);setShowModal(true);};var handleAddNew=function handleAddNew(){setSelectedProject(null);setShowModal(true);};return/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3\",children:[/*#__PURE__*/_jsx(Button,{variant:\"primary\",onClick:handleAddNew,children:\"Add New Project\"}),projects&&projects.length>0?/*#__PURE__*/_jsx(ListGroup,{className:\"mt-3\",children:projects.map(function(project,index){return/*#__PURE__*/_jsxs(ListGroup.Item,{className:\"d-flex justify-content-between align-items-start\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"ms-2 me-auto\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"fw-bold\",children:project.title}),project.description]}),/*#__PURE__*/_jsx(Button,{variant:\"outline-secondary\",size:\"sm\",onClick:function onClick(){return handleEdit(project);},children:\"Edit\"}),/*#__PURE__*/_jsx(Button,{variant:\"outline-danger\",size:\"sm\",onClick:function onClick(){return handleDelete(project._id);},children:\"Delete\"})]},project._id||index);})}):/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-info mt-3\",children:\"No projects found.\"}),/*#__PURE__*/_jsxs(Modal,{show:showModal,onHide:function onHide(){return setShowModal(false);},children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsx(Modal.Title,{children:selectedProject?'Edit Project':'Add New Project'})}),/*#__PURE__*/_jsx(Modal.Body,{children:/*#__PURE__*/_jsx(EditMyProjectsForm,{initialData:selectedProject||{},itemId:selectedProject===null||selectedProject===void 0?void 0:selectedProject._id,closeModal:function closeModal(){return setShowModal(false);}})})]})]});};export default MyProjectsList;","map":{"version":3,"names":["React","useState","useSelector","useDispatch","deleteItem","Modal","Button","ListGroup","EditMyProjectsForm","jsx","_jsx","jsxs","_jsxs","MyProjectsList","dispatch","projects","state","dashboard","resume","_useState","_useState2","_slicedToArray","showModal","setShowModal","_useState3","_useState4","selectedProject","setSelectedProject","handleDelete","projectId","window","confirm","section","itemId","console","error","handleEdit","project","handleAddNew","className","children","variant","onClick","length","map","index","Item","title","description","size","_id","show","onHide","Header","closeButton","Title","Body","initialData","closeModal"],"sources":["/app/src/components/UserDashboard/MyProjects/MyProjectsList.js"],"sourcesContent":["// MyProjectsList.js\nimport React, { useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { deleteItem } from '../dashboardThunks';\nimport { Modal, Button, ListGroup } from 'react-bootstrap';\nimport EditMyProjectsForm from './EditMyProjectsForm';\n\nconst MyProjectsList = () => {\n  const dispatch = useDispatch();\n  const projects = useSelector((state) => state.dashboard.resume.projects);\n\n  const [showModal, setShowModal] = useState(false);\n  const [selectedProject, setSelectedProject] = useState(null);\n\n  const handleDelete = (projectId) => {\n    if (projectId && window.confirm('Are you sure you want to delete this project?')) {\n      dispatch(deleteItem({ section: 'projects', itemId: projectId }));\n    } else {\n      console.error('Error: projectId is undefined');\n    }\n  };\n\n  const handleEdit = (project) => {\n    setSelectedProject(project);\n    setShowModal(true);\n  };\n\n  const handleAddNew = () => {\n    setSelectedProject(null);\n    setShowModal(true);\n  };\n\n  return (\n    <div className=\"mt-3\">\n      <Button variant=\"primary\" onClick={handleAddNew}>Add New Project</Button>\n\n      {projects && projects.length > 0 ? (\n        <ListGroup className=\"mt-3\">\n          {projects.map((project, index) => (\n            <ListGroup.Item key={project._id || index} className=\"d-flex justify-content-between align-items-start\">\n              <div className=\"ms-2 me-auto\">\n                <div className=\"fw-bold\">{project.title}</div>\n                {project.description}\n              </div>\n              <Button variant=\"outline-secondary\" size=\"sm\" onClick={() => handleEdit(project)}>Edit</Button>\n              <Button variant=\"outline-danger\" size=\"sm\" onClick={() => handleDelete(project._id)}>Delete</Button>\n            </ListGroup.Item>\n          ))}\n        </ListGroup>\n      ) : (\n        <div className=\"alert alert-info mt-3\">No projects found.</div>\n      )}\n\n      <Modal show={showModal} onHide={() => setShowModal(false)}>\n        <Modal.Header closeButton>\n          <Modal.Title>{selectedProject ? 'Edit Project' : 'Add New Project'}</Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          <EditMyProjectsForm \n            initialData={selectedProject || {}} \n            itemId={selectedProject?._id} \n            closeModal={() => setShowModal(false)}\n          />\n        </Modal.Body>\n      </Modal>\n    </div>\n  );\n};\n\nexport default MyProjectsList;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}