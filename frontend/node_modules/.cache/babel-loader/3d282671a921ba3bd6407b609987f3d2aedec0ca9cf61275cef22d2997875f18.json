{"ast":null,"code":"//profilethunks.js\n\nimport { createAsyncThunk } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\nimport { updateProfile } from \"../../reducers/authSlice\"; // Adjust path as necessary\n\nexport const updateProfileAsync = createAsyncThunk(\"profile/updateProfile\", async (formData, thunkAPI) => {\n  const state = thunkAPI.getState(); // Get the current state\n  const token = state.auth.token; // Access the token from the state\n  try {\n    const response = await axios.put(\"http://localhost:5001/api/profile\", formData, {\n      headers: {\n        Authorization: `Bearer ${token}`,\n        // Use the token from the state\n\n        \"Content-Type\": \"multipart/form-data\"\n      }\n    });\n\n    // Dispatch the updateProfile action from authSlice with the response data\n    thunkAPI.dispatch(updateProfile(response.data));\n    return response.data;\n  } catch (error) {\n    return thunkAPI.rejectWithValue(error.response.data);\n  }\n});","map":{"version":3,"names":["createAsyncThunk","axios","updateProfile","updateProfileAsync","formData","thunkAPI","state","getState","token","auth","response","put","headers","Authorization","dispatch","data","error","rejectWithValue"],"sources":["/app/src/components/UserDashboard/profileThunks.js"],"sourcesContent":["//profilethunks.js\n\nimport { createAsyncThunk } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\nimport { updateProfile } from \"../../reducers/authSlice\"; // Adjust path as necessary\n\nexport const updateProfileAsync = createAsyncThunk(\n  \"profile/updateProfile\",\n  async (formData, thunkAPI) => {\n    const state = thunkAPI.getState(); // Get the current state\n    const token = state.auth.token; // Access the token from the state\n    try {\n      const response = await axios.put(\n        \"http://localhost:5001/api/profile\",\n        formData,\n        {\n          headers: {\n            Authorization: `Bearer ${token}`, // Use the token from the state\n\n            \"Content-Type\": \"multipart/form-data\",\n          },\n        }\n      );\n\n      // Dispatch the updateProfile action from authSlice with the response data\n      thunkAPI.dispatch(updateProfile(response.data));\n\n      return response.data;\n    } catch (error) {\n      return thunkAPI.rejectWithValue(error.response.data);\n    }\n  }\n);\n"],"mappings":"AAAA;;AAEA,SAASA,gBAAgB,QAAQ,kBAAkB;AACnD,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,aAAa,QAAQ,0BAA0B,CAAC,CAAC;;AAE1D,OAAO,MAAMC,kBAAkB,GAAGH,gBAAgB,CAChD,uBAAuB,EACvB,OAAOI,QAAQ,EAAEC,QAAQ,KAAK;EAC5B,MAAMC,KAAK,GAAGD,QAAQ,CAACE,QAAQ,CAAC,CAAC,CAAC,CAAC;EACnC,MAAMC,KAAK,GAAGF,KAAK,CAACG,IAAI,CAACD,KAAK,CAAC,CAAC;EAChC,IAAI;IACF,MAAME,QAAQ,GAAG,MAAMT,KAAK,CAACU,GAAG,CAC9B,mCAAmC,EACnCP,QAAQ,EACR;MACEQ,OAAO,EAAE;QACPC,aAAa,EAAG,UAASL,KAAM,EAAC;QAAE;;QAElC,cAAc,EAAE;MAClB;IACF,CACF,CAAC;;IAED;IACAH,QAAQ,CAACS,QAAQ,CAACZ,aAAa,CAACQ,QAAQ,CAACK,IAAI,CAAC,CAAC;IAE/C,OAAOL,QAAQ,CAACK,IAAI;EACtB,CAAC,CAAC,OAAOC,KAAK,EAAE;IACd,OAAOX,QAAQ,CAACY,eAAe,CAACD,KAAK,CAACN,QAAQ,CAACK,IAAI,CAAC;EACtD;AACF,CACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}