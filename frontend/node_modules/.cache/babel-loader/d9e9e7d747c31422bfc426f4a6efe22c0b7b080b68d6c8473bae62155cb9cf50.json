{"ast":null,"code":"import _slicedToArray from\"/app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";// CertificationsList.js\nimport React,{useState,useEffect}from'react';import{useSelector,useDispatch}from'react-redux';import{deleteItem}from'../dashboardThunks';import{Modal,Button,ListGroup}from'react-bootstrap';import EditCertificationsForm from'./EditCertificationsForm';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CertificationsList=function CertificationsList(){var dispatch=useDispatch();var certifications=useSelector(function(state){return state.dashboard.resume.certifications;});var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showModal=_useState2[0],setShowModal=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),selectedCertification=_useState4[0],setSelectedCertification=_useState4[1];useEffect(function(){console.log('Current certifications state:',certifications);},[certifications]);var handleDelete=function handleDelete(certificationId){if(certificationId&&window.confirm('Are you sure you want to delete this certification?')){dispatch(deleteItem({section:'certifications',itemId:certificationId}));}else{console.error('Error: certificationId is undefined');}};var handleEdit=function handleEdit(certification){setSelectedCertification(certification);setShowModal(true);};var handleAddNew=function handleAddNew(){setSelectedCertification(null);setShowModal(true);};return/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3\",children:[/*#__PURE__*/_jsx(Button,{variant:\"primary\",onClick:handleAddNew,children:\"Add New Certification\"}),certifications&&certifications.length>0?/*#__PURE__*/_jsx(ListGroup,{className:\"mt-3\",children:certifications.map(function(certification,index){return/*#__PURE__*/_jsxs(ListGroup.Item,{className:\"d-flex justify-content-between align-items-start\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"ms-2 me-auto\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"fw-bold\",children:certification.name}),\"Issued by: \",certification.authority,\" - Valid until: \",certification.validUntil]}),/*#__PURE__*/_jsx(Button,{variant:\"outline-secondary\",size:\"sm me-2\",onClick:function onClick(){return handleEdit(certification);},children:\"Edit\"}),/*#__PURE__*/_jsx(Button,{variant:\"outline-danger\",size:\"sm\",onClick:function onClick(){return handleDelete(certification._id);},children:\"Delete\"})]},certification._id||index);})}):/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-info mt-3\",children:\"No certifications found.\"}),/*#__PURE__*/_jsxs(Modal,{show:showModal,onHide:function onHide(){return setShowModal(false);},children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsx(Modal.Title,{children:selectedCertification?'Edit Certification':'Add New Certification'})}),/*#__PURE__*/_jsx(Modal.Body,{children:/*#__PURE__*/_jsx(EditCertificationsForm,{initialData:selectedCertification||{},itemId:selectedCertification===null||selectedCertification===void 0?void 0:selectedCertification._id,closeModal:function closeModal(){return setShowModal(false);}})})]})]});};export default CertificationsList;","map":{"version":3,"names":["React","useState","useEffect","useSelector","useDispatch","deleteItem","Modal","Button","ListGroup","EditCertificationsForm","jsx","_jsx","jsxs","_jsxs","CertificationsList","dispatch","certifications","state","dashboard","resume","_useState","_useState2","_slicedToArray","showModal","setShowModal","_useState3","_useState4","selectedCertification","setSelectedCertification","console","log","handleDelete","certificationId","window","confirm","section","itemId","error","handleEdit","certification","handleAddNew","className","children","variant","onClick","length","map","index","Item","name","authority","validUntil","size","_id","show","onHide","Header","closeButton","Title","Body","initialData","closeModal"],"sources":["/app/src/components/UserDashboard/Certifications/CertificationsList.js"],"sourcesContent":["// CertificationsList.js\n\nimport React, { useState, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { deleteItem } from '../dashboardThunks';\nimport { Modal, Button, ListGroup } from 'react-bootstrap';\nimport EditCertificationsForm from './EditCertificationsForm';\n\nconst CertificationsList = () => {\n  const dispatch = useDispatch();\n  const certifications = useSelector((state) => state.dashboard.resume.certifications);\n\n  const [showModal, setShowModal] = useState(false);\n  const [selectedCertification, setSelectedCertification] = useState(null);\n\n  useEffect(() => {\n    console.log('Current certifications state:', certifications);\n  }, [certifications]);\n\n  const handleDelete = (certificationId) => {\n    if (certificationId && window.confirm('Are you sure you want to delete this certification?')) {\n      dispatch(deleteItem({ section: 'certifications', itemId: certificationId }));\n    } else {\n      console.error('Error: certificationId is undefined');\n    }\n  };\n\n  const handleEdit = (certification) => {\n    setSelectedCertification(certification);\n    setShowModal(true);\n  };\n\n  const handleAddNew = () => {\n    setSelectedCertification(null);\n    setShowModal(true);\n  };\n\n  return (\n    <div className=\"mt-3\">\n      <Button variant=\"primary\" onClick={handleAddNew}>Add New Certification</Button>\n\n      {certifications && certifications.length > 0 ? (\n        <ListGroup className=\"mt-3\">\n          {certifications.map((certification, index) => (\n            <ListGroup.Item key={certification._id || index} className=\"d-flex justify-content-between align-items-start\">\n              <div className=\"ms-2 me-auto\">\n                <div className=\"fw-bold\">{certification.name}</div>\n                Issued by: {certification.authority} - Valid until: {certification.validUntil}\n              </div>\n              <Button variant=\"outline-secondary\" size=\"sm me-2\" onClick={() => handleEdit(certification)}>Edit</Button>\n              <Button variant=\"outline-danger\" size=\"sm\" onClick={() => handleDelete(certification._id)}>Delete</Button>\n            </ListGroup.Item>\n          ))}\n        </ListGroup>\n      ) : (\n        <div className=\"alert alert-info mt-3\">No certifications found.</div>\n      )}\n\n      <Modal show={showModal} onHide={() => setShowModal(false)}>\n        <Modal.Header closeButton>\n          <Modal.Title>{selectedCertification ? 'Edit Certification' : 'Add New Certification'}</Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          <EditCertificationsForm \n            initialData={selectedCertification || {}} \n            itemId={selectedCertification?._id} \n            closeModal={() => setShowModal(false)}\n          />\n        </Modal.Body>\n      </Modal>\n    </div>\n  );\n};\n\nexport default CertificationsList;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}