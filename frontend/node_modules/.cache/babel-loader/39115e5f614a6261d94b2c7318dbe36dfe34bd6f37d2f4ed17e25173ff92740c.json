{"ast":null,"code":"import { createAsyncThunk } from '@reduxjs/toolkit';\nimport axios from 'axios';\nimport { updateEducationById, updateWorkExperienceById, updateSkillById, updateProjectById, updateCertificationById, updateLanguageById, removeEducationById, setDashboardData, appendNewEducation\n\n// ... other import actions ...\n} from '../../reducers/dashboardSlice';\nconst API_URL = process.env.REACT_APP_API_URL;\n\n// Helper function to get headers with Authorization token\nconst getAuthHeaders = token => ({\n  headers: {\n    Authorization: `Bearer ${token}`\n  }\n});\n\n// Thunk for adding a new education item\nexport const addEducation = createAsyncThunk('dashboard/addEducation', async ({\n  newData,\n  token\n}, {\n  dispatch\n}) => {\n  try {\n    const response = await axios.post(`${API_URL}/dashboard/education`, newData, getAuthHeaders(token));\n    dispatch(appendNewEducation(response.data));\n    return response.data;\n  } catch (error) {\n    console.error('Error adding education:', error);\n  }\n});\n\n// Example thunk for editing an education item\nexport const editEducation = createAsyncThunk('dashboard/editEducation', async ({\n  itemId,\n  newData,\n  token\n}, {\n  dispatch\n}) => {\n  try {\n    const response = await axios.put(`${API_URL}/dashboard/education/${itemId}`, newData, getAuthHeaders(token));\n    dispatch(updateEducationById({\n      _id: itemId,\n      newData: response.data\n    }));\n    return response.data;\n  } catch (error) {\n    console.error('Error editing education:', error);\n  }\n});\n\n// Thunk for deleting an education item\nexport const deleteEducation = createAsyncThunk('dashboard/deleteEducation', async ({\n  educationId,\n  token\n}, {\n  dispatch\n}) => {\n  try {\n    const response = await axios.delete(`${API_URL}/dashboard/education/${educationId}`, getAuthHeaders(token));\n    if (response.status === 200) {\n      dispatch(removeEducationById(educationId));\n    }\n  } catch (error) {\n    console.error('Error deleting education:', error);\n  }\n});\n\n// Thunk for fetching the user's portfolio\nexport const fetchUserPortfolio = createAsyncThunk('dashboard/fetchUserPortfolio', async ({\n  identifier,\n  token\n}, {\n  dispatch\n}) => {\n  try {\n    const response = await axios.get(`${API_URL}/portfolio/${identifier}`, getAuthHeaders(token));\n    dispatch(setDashboardData(response.data));\n    return response.data;\n  } catch (error) {\n    console.error('fetchUserPortfolio error:', error);\n  }\n});\n\n// Similar thunks for other sections like workExperience, skills, etc.\n\nexport const userDashboardThunks = {\n  editEducation,\n  deleteEducation,\n  addEducation\n\n  // ... other thunks ...\n};","map":{"version":3,"names":["createAsyncThunk","axios","updateEducationById","updateWorkExperienceById","updateSkillById","updateProjectById","updateCertificationById","updateLanguageById","removeEducationById","setDashboardData","appendNewEducation","API_URL","process","env","REACT_APP_API_URL","getAuthHeaders","token","headers","Authorization","addEducation","newData","dispatch","response","post","data","error","console","editEducation","itemId","put","_id","deleteEducation","educationId","delete","status","fetchUserPortfolio","identifier","get","userDashboardThunks"],"sources":["/app/src/components/UserDashboard/dashboardThunks.js"],"sourcesContent":["\n \nimport { createAsyncThunk } from '@reduxjs/toolkit';\nimport axios from 'axios';\nimport {\n  updateEducationById,\n  updateWorkExperienceById,\n  updateSkillById,\n  updateProjectById,\n  updateCertificationById,\n  updateLanguageById,\n  removeEducationById,\n  setDashboardData,\n  appendNewEducation\n\n  // ... other import actions ...\n} from '../../reducers/dashboardSlice';\n\nconst API_URL = process.env.REACT_APP_API_URL;\n\n// Helper function to get headers with Authorization token\nconst getAuthHeaders = (token) => ({\n  headers: { Authorization: `Bearer ${token}` },\n});\n \n\n\n// Thunk for adding a new education item\nexport const addEducation = createAsyncThunk(\n  'dashboard/addEducation',\n  async ({ newData, token }, { dispatch }) => {\n    try {\n      const response = await axios.post(\n        `${API_URL}/dashboard/education`, \n        newData, \n        getAuthHeaders(token)\n      );\n      dispatch(appendNewEducation(response.data));\n      return response.data;\n    } catch (error) {\n      console.error('Error adding education:', error);\n    }\n  }\n);\n\n// Example thunk for editing an education item\nexport const editEducation = createAsyncThunk(\n  'dashboard/editEducation',\n  async ({ itemId, newData, token }, { dispatch }) => {\n    try {\n      const response = await axios.put(\n        `${API_URL}/dashboard/education/${itemId}`, \n        newData, \n        getAuthHeaders(token)\n      );\n      dispatch(updateEducationById({ _id: itemId, newData: response.data }));\n      return response.data;\n    } catch (error) {\n      console.error('Error editing education:', error);\n    }\n  }\n);\n\n// Thunk for deleting an education item\nexport const deleteEducation = createAsyncThunk(\n  'dashboard/deleteEducation',\n  async ({ educationId, token }, { dispatch }) => {\n    try {\n      const response = await axios.delete(\n        `${API_URL}/dashboard/education/${educationId}`, \n        getAuthHeaders(token)\n      );\n      if (response.status === 200) {\n        dispatch(removeEducationById(educationId));\n      }\n    } catch (error) {\n      console.error('Error deleting education:', error);\n    }\n  }\n);\n\n// Thunk for fetching the user's portfolio\nexport const fetchUserPortfolio = createAsyncThunk(\n  'dashboard/fetchUserPortfolio',\n  async ({ identifier, token }, { dispatch }) => {\n    try {\n      const response = await axios.get(\n        `${API_URL}/portfolio/${identifier}`, \n        getAuthHeaders(token)\n      );\n      dispatch(setDashboardData(response.data));\n      return response.data;\n    } catch (error) {\n      console.error('fetchUserPortfolio error:', error);\n    }\n  }\n);\n\n\n  // Similar thunks for other sections like workExperience, skills, etc.\n\nexport const userDashboardThunks = {\n   \n    editEducation,\n    deleteEducation,\n    addEducation,\n    \n    // ... other thunks ...\n  };\n  "],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}