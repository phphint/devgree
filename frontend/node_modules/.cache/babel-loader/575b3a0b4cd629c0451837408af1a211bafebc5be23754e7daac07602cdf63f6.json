{"ast":null,"code":"import _regeneratorRuntime from\"/app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{createAsyncThunk}from\"@reduxjs/toolkit\";import axios from\"axios\";import{updateProfile}from\"../../reducers/authSlice\";// Adjust path as necessary\nexport var updateProfileAsync=createAsyncThunk(\"profile/updateProfile\",/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(formData,thunkAPI){var state,token,response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:state=thunkAPI.getState();// Get the current state\ntoken=state.auth.token;// Access the token from the state\nconsole.log(\"Token:\",token);// Debug: Log the token\n_context.prev=3;console.log(\"Sending request to update profile\");// Debug: Log before sending the request\n_context.next=7;return axios.put(\"\".concat(process.env.REACT_APP_API_URL,\"/profile\"),formData,{headers:{Authorization:\"Bearer \".concat(token),// Use the token from the state\n\"Content-Type\":\"multipart/form-data\"}});case 7:response=_context.sent;console.log(\"Profile update successful:\",response.data);// Debug: Log the response data\n// Dispatch the updateProfile action from authSlice with the response data\nthunkAPI.dispatch(updateProfile(response.data));return _context.abrupt(\"return\",response.data);case 13:_context.prev=13;_context.t0=_context[\"catch\"](3);console.error(\"Error in updateProfileAsync:\",_context.t0.response?_context.t0.response.data:_context.t0);// Debug: Log the error\nreturn _context.abrupt(\"return\",thunkAPI.rejectWithValue(_context.t0.response?_context.t0.response.data:_context.t0));case 17:case\"end\":return _context.stop();}},_callee,null,[[3,13]]);}));return function(_x,_x2){return _ref.apply(this,arguments);};}());","map":{"version":3,"names":["createAsyncThunk","axios","updateProfile","updateProfileAsync","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","formData","thunkAPI","state","token","response","wrap","_callee$","_context","prev","next","getState","auth","console","log","put","concat","process","env","REACT_APP_API_URL","headers","Authorization","sent","data","dispatch","abrupt","t0","error","rejectWithValue","stop","_x","_x2","apply","arguments"],"sources":["/app/src/components/UserDashboard/profileThunks.js"],"sourcesContent":["import { createAsyncThunk } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\nimport { updateProfile } from \"../../reducers/authSlice\"; // Adjust path as necessary\n\nexport const updateProfileAsync = createAsyncThunk(\n  \"profile/updateProfile\",\n  async (formData, thunkAPI) => {\n    const state = thunkAPI.getState(); // Get the current state\n    const token = state.auth.token; // Access the token from the state\n    console.log(\"Token:\", token); // Debug: Log the token\n\n    try {\n      console.log(\"Sending request to update profile\"); // Debug: Log before sending the request\n      const response = await axios.put(\n        `${process.env.REACT_APP_API_URL}/profile`,\n        formData,\n        {\n          headers: {\n            Authorization: `Bearer ${token}`, // Use the token from the state\n            \"Content-Type\": \"multipart/form-data\",\n          },\n        }\n      );\n\n      console.log(\"Profile update successful:\", response.data); // Debug: Log the response data\n      // Dispatch the updateProfile action from authSlice with the response data\n      thunkAPI.dispatch(updateProfile(response.data));\n\n      return response.data;\n    } catch (error) {\n      console.error(\"Error in updateProfileAsync:\", error.response ? error.response.data : error); // Debug: Log the error\n      return thunkAPI.rejectWithValue(error.response ? error.response.data : error);\n    }\n  }\n);\n"],"mappings":"oMAAA,OAASA,gBAAgB,KAAQ,kBAAkB,CACnD,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OAASC,aAAa,KAAQ,0BAA0B,CAAE;AAE1D,MAAO,IAAM,CAAAC,kBAAkB,CAAGH,gBAAgB,CAChD,uBAAuB,6BAAAI,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CACvB,SAAAC,QAAOC,QAAQ,CAAEC,QAAQ,MAAAC,KAAA,CAAAC,KAAA,CAAAC,QAAA,QAAAP,mBAAA,GAAAQ,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SACjBP,KAAK,CAAGD,QAAQ,CAACS,QAAQ,CAAC,CAAC,CAAE;AAC7BP,KAAK,CAAGD,KAAK,CAACS,IAAI,CAACR,KAAK,CAAE;AAChCS,OAAO,CAACC,GAAG,CAAC,QAAQ,CAAEV,KAAK,CAAC,CAAE;AAAAI,QAAA,CAAAC,IAAA,GAG5BI,OAAO,CAACC,GAAG,CAAC,mCAAmC,CAAC,CAAE;AAAAN,QAAA,CAAAE,IAAA,SAC3B,CAAAjB,KAAK,CAACsB,GAAG,IAAAC,MAAA,CAC3BC,OAAO,CAACC,GAAG,CAACC,iBAAiB,aAChClB,QAAQ,CACR,CACEmB,OAAO,CAAE,CACPC,aAAa,WAAAL,MAAA,CAAYZ,KAAK,CAAE,CAAE;AAClC,cAAc,CAAE,qBAClB,CACF,CACF,CAAC,QATKC,QAAQ,CAAAG,QAAA,CAAAc,IAAA,CAWdT,OAAO,CAACC,GAAG,CAAC,4BAA4B,CAAET,QAAQ,CAACkB,IAAI,CAAC,CAAE;AAC1D;AACArB,QAAQ,CAACsB,QAAQ,CAAC9B,aAAa,CAACW,QAAQ,CAACkB,IAAI,CAAC,CAAC,CAAC,OAAAf,QAAA,CAAAiB,MAAA,UAEzCpB,QAAQ,CAACkB,IAAI,UAAAf,QAAA,CAAAC,IAAA,IAAAD,QAAA,CAAAkB,EAAA,CAAAlB,QAAA,aAEpBK,OAAO,CAACc,KAAK,CAAC,8BAA8B,CAAEnB,QAAA,CAAAkB,EAAA,CAAMrB,QAAQ,CAAGG,QAAA,CAAAkB,EAAA,CAAMrB,QAAQ,CAACkB,IAAI,CAAAf,QAAA,CAAAkB,EAAQ,CAAC,CAAE;AAAA,OAAAlB,QAAA,CAAAiB,MAAA,UACtFvB,QAAQ,CAAC0B,eAAe,CAACpB,QAAA,CAAAkB,EAAA,CAAMrB,QAAQ,CAAGG,QAAA,CAAAkB,EAAA,CAAMrB,QAAQ,CAACkB,IAAI,CAAAf,QAAA,CAAAkB,EAAQ,CAAC,2BAAAlB,QAAA,CAAAqB,IAAA,MAAA7B,OAAA,iBAEhF,mBAAA8B,EAAA,CAAAC,GAAA,SAAAnC,IAAA,CAAAoC,KAAA,MAAAC,SAAA,OACH,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}