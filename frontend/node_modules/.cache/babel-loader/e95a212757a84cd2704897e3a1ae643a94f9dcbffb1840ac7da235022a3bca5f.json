{"ast":null,"code":"import React,{useEffect}from\"react\";// Import useEffect\nimport{Link}from\"react-router-dom\";import{useSelector,useDispatch}from\"react-redux\";import{logout}from\"../../../reducers/authSlice.js\";// In AvatarMenu.js\nimport ResumeUploadModal from\"../../ResumeUploadModal\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AvatarMenu=function AvatarMenu(){var _useSelector=useSelector(function(state){return state.auth;}),fullName=_useSelector.fullName,profilePicture=_useSelector.profilePicture;var dispatch=useDispatch();// Use useEffect to log the state\nuseEffect(function(){console.log(\"Auth State in AvatarMenu:\",{fullName:fullName,profilePicture:profilePicture});},[fullName,profilePicture]);// Dependencies array ensures this runs when fullName or profilePicture changes\nvar baseURL=process.env.REACT_APP_S3_BASE_URL||\"http://localhost:9000/\";var profilePicURL=profilePicture?\"\".concat(baseURL,\"/\").concat(profilePicture):\"https://via.placeholder.com/40\";var handleLogout=function handleLogout(){dispatch(logout());};return/*#__PURE__*/_jsxs(\"div\",{className:\"nav-item dropdown flex-nowrap\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"btn nav-link dropdown-toggle\",\"data-bs-toggle\":\"dropdown\",\"aria-expanded\":\"false\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"rounded-circle me-lg-2\",src:profilePicURL,alt:\"Profile\",style:{width:\"40px\",height:\"40px\"}}),/*#__PURE__*/_jsx(\"span\",{className:\"d-none d-lg-inline-flex\",children:fullName||\"Your Name\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"dropdown-menu dropdown-menu-end bg-light border-0 rounded-0 rounded-bottom m-0\",children:[/*#__PURE__*/_jsx(Link,{className:\"dropdown-item\",to:\"/dashboard/profile\",children:\"My Profile\"}),/*#__PURE__*/_jsx(Link,{className:\"dropdown-item\",to:\"/dashboard/settings\",children:\"Settings\"}),/*#__PURE__*/_jsx(\"button\",{className:\"dropdown-item\",\"data-bs-toggle\":\"modal\",\"data-bs-target\":\"#resumeUploadModal\",children:\"Import R\\xE9sum\\xE9\"}),/*#__PURE__*/_jsx(\"button\",{className:\"dropdown-item\",onClick:handleLogout,children:\"Log Out\"}),/*#__PURE__*/_jsx(ResumeUploadModal,{})]})]});};export default AvatarMenu;","map":{"version":3,"names":["React","useEffect","Link","useSelector","useDispatch","logout","ResumeUploadModal","jsx","_jsx","jsxs","_jsxs","AvatarMenu","_useSelector","state","auth","fullName","profilePicture","dispatch","console","log","baseURL","process","env","REACT_APP_S3_BASE_URL","profilePicURL","concat","handleLogout","className","children","src","alt","style","width","height","to","onClick"],"sources":["/app/src/components/UserDashboard/TopNav/AvatarMenu.js"],"sourcesContent":["import React, { useEffect } from \"react\"; // Import useEffect\n\nimport { Link } from \"react-router-dom\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { logout } from \"../../../reducers/authSlice.js\";\n\n \n\n// In AvatarMenu.js\nimport ResumeUploadModal from \"../../ResumeUploadModal\";\n\n\n\nconst AvatarMenu = () => {\n  const { fullName, profilePicture } = useSelector((state) => state.auth);\n  const dispatch = useDispatch();\n\n   // Use useEffect to log the state\n   useEffect(() => {\n    console.log(\"Auth State in AvatarMenu:\", { fullName, profilePicture });\n  }, [fullName, profilePicture]); // Dependencies array ensures this runs when fullName or profilePicture changes\n\n\n  const baseURL = process.env.REACT_APP_S3_BASE_URL || \"http://localhost:9000/\";\n  const profilePicURL = profilePicture\n    ? `${baseURL}/${profilePicture}`\n    : \"https://via.placeholder.com/40\";\n\n  const handleLogout = () => {\n    dispatch(logout());\n  };\n\n   \n\n  return (\n    \n      <div className=\"nav-item dropdown flex-nowrap\">\n       \n        <button\n          className=\"btn nav-link dropdown-toggle\"\n          data-bs-toggle=\"dropdown\"\n          aria-expanded=\"false\"\n        >\n          <img\n            className=\"rounded-circle me-lg-2\"\n            src={profilePicURL}\n            alt=\"Profile\"\n            style={{ width: \"40px\", height: \"40px\" }}\n          />\n          <span className=\"d-none d-lg-inline-flex\">\n            {fullName || \"Your Name\"}\n          </span>\n        </button>\n        <div className=\"dropdown-menu dropdown-menu-end bg-light border-0 rounded-0 rounded-bottom m-0\">\n          <Link className=\"dropdown-item\" to=\"/dashboard/profile\">\n            My Profile\n          </Link>\n          <Link className=\"dropdown-item\" to=\"/dashboard/settings\">\n            Settings\n          </Link>\n\n          {/* Button to trigger modal */}\n          <button\n            className=\"dropdown-item\"\n            data-bs-toggle=\"modal\"\n            data-bs-target=\"#resumeUploadModal\"\n          >\n            Import Résumé\n          </button>\n\n          <button className=\"dropdown-item\" onClick={handleLogout}>\n            Log Out\n          </button>\n\n          <ResumeUploadModal />\n        </div>\n\n      </div>\n \n\n \n  );\n};\n\nexport default AvatarMenu;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,KAAQ,OAAO,CAAE;AAE1C,OAASC,IAAI,KAAQ,kBAAkB,CACvC,OAASC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CACtD,OAASC,MAAM,KAAQ,gCAAgC,CAIvD;AACA,MAAO,CAAAC,iBAAiB,KAAM,yBAAyB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAIxD,GAAM,CAAAC,UAAU,CAAG,QAAb,CAAAA,UAAUA,CAAA,CAAS,CACvB,IAAAC,YAAA,CAAqCT,WAAW,CAAC,SAACU,KAAK,QAAK,CAAAA,KAAK,CAACC,IAAI,GAAC,CAA/DC,QAAQ,CAAAH,YAAA,CAARG,QAAQ,CAAEC,cAAc,CAAAJ,YAAA,CAAdI,cAAc,CAChC,GAAM,CAAAC,QAAQ,CAAGb,WAAW,CAAC,CAAC,CAE7B;AACAH,SAAS,CAAC,UAAM,CACfiB,OAAO,CAACC,GAAG,CAAC,2BAA2B,CAAE,CAAEJ,QAAQ,CAARA,QAAQ,CAAEC,cAAc,CAAdA,cAAe,CAAC,CAAC,CACxE,CAAC,CAAE,CAACD,QAAQ,CAAEC,cAAc,CAAC,CAAC,CAAE;AAGhC,GAAM,CAAAI,OAAO,CAAGC,OAAO,CAACC,GAAG,CAACC,qBAAqB,EAAI,wBAAwB,CAC7E,GAAM,CAAAC,aAAa,CAAGR,cAAc,IAAAS,MAAA,CAC7BL,OAAO,MAAAK,MAAA,CAAIT,cAAc,EAC5B,gCAAgC,CAEpC,GAAM,CAAAU,YAAY,CAAG,QAAf,CAAAA,YAAYA,CAAA,CAAS,CACzBT,QAAQ,CAACZ,MAAM,CAAC,CAAC,CAAC,CACpB,CAAC,CAID,mBAEIK,KAAA,QAAKiB,SAAS,CAAC,+BAA+B,CAAAC,QAAA,eAE5ClB,KAAA,WACEiB,SAAS,CAAC,8BAA8B,CACxC,iBAAe,UAAU,CACzB,gBAAc,OAAO,CAAAC,QAAA,eAErBpB,IAAA,QACEmB,SAAS,CAAC,wBAAwB,CAClCE,GAAG,CAAEL,aAAc,CACnBM,GAAG,CAAC,SAAS,CACbC,KAAK,CAAE,CAAEC,KAAK,CAAE,MAAM,CAAEC,MAAM,CAAE,MAAO,CAAE,CAC1C,CAAC,cACFzB,IAAA,SAAMmB,SAAS,CAAC,yBAAyB,CAAAC,QAAA,CACtCb,QAAQ,EAAI,WAAW,CACpB,CAAC,EACD,CAAC,cACTL,KAAA,QAAKiB,SAAS,CAAC,gFAAgF,CAAAC,QAAA,eAC7FpB,IAAA,CAACN,IAAI,EAACyB,SAAS,CAAC,eAAe,CAACO,EAAE,CAAC,oBAAoB,CAAAN,QAAA,CAAC,YAExD,CAAM,CAAC,cACPpB,IAAA,CAACN,IAAI,EAACyB,SAAS,CAAC,eAAe,CAACO,EAAE,CAAC,qBAAqB,CAAAN,QAAA,CAAC,UAEzD,CAAM,CAAC,cAGPpB,IAAA,WACEmB,SAAS,CAAC,eAAe,CACzB,iBAAe,OAAO,CACtB,iBAAe,oBAAoB,CAAAC,QAAA,CACpC,qBAED,CAAQ,CAAC,cAETpB,IAAA,WAAQmB,SAAS,CAAC,eAAe,CAACQ,OAAO,CAAET,YAAa,CAAAE,QAAA,CAAC,SAEzD,CAAQ,CAAC,cAETpB,IAAA,CAACF,iBAAiB,GAAE,CAAC,EAClB,CAAC,EAEH,CAAC,CAKZ,CAAC,CAED,cAAe,CAAAK,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}